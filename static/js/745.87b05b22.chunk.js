"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[745],{127:function(e,n,t){t.d(n,{F:function(){return r}});var r="5d44c33850258a6ea050e461474b1468"},745:function(e,n,t){t.r(n),t.d(n,{default:function(){return m}});var r=t(885),o=t(861),u=t(757),c=t.n(u),a=t(127),s=t(388),i=function(){var e=(0,o.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("https://api.themoviedb.org/3/search/movie?api_key=".concat(a.F,"&language=en-US&query=").concat(n,"&include_adult=false")).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent.data.results);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l=t(537),f=t(791),d=t(731),h=t(739),p=t(184),m=function(){var e,n=(0,d.lr)(),t=(0,r.Z)(n,2),o=t[0],u=t[1],c=(0,f.useState)(""),a=(0,r.Z)(c,2),s=a[0],m=a[1],v=(0,f.useState)([]),g=(0,r.Z)(v,2),x=g[0],j=g[1],w=(0,f.useState)("idle"),y=(0,r.Z)(w,2),S=y[0],b=y[1],k=null!==(e=o.get("query"))&&void 0!==e?e:"";(0,f.useEffect)((function(){k&&(console.log("effect"),console.log(k),i(k).then(j),b("success"),m(k))}),[k]);var _=(0,h.TH)();return(0,p.jsxs)("main",{children:[(0,p.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),0===s.trim().length)return window.alert("Please enter a request. Spaces does not count"),void m("");u({query:s}),b("pending"),i(s).then((function(e){if(0===e.length)return u({}),b("noInfo"),console.log("noInfo");j(e),b("success")})),m("")},children:[(0,p.jsx)("input",{value:s,onChange:function(e){m(e.currentTarget.value.toLowerCase())},type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search films"}),(0,p.jsx)("button",{type:"submit",children:(0,p.jsx)("span",{children:"Search"})})]}),"pending"===S&&(0,p.jsx)(l.a,{}),"idle"===S&&(0,p.jsx)("div",{children:" You can find any film"}),"noInfo"===S&&(0,p.jsx)("div",{children:"Sorry, we have no films for this query"}),"success"===S&&(0,p.jsx)("ul",{children:x.map((function(e){var n=e.id,t=e.title,r=e.original_name;return(0,p.jsx)("li",{children:(0,p.jsx)(d.rU,{to:"/movies/".concat(n),state:{from:_},children:t||r})},n)}))})]})}}}]);
//# sourceMappingURL=745.87b05b22.chunk.js.map